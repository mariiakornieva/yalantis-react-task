(this["webpackJsonpemployees-list"]=this["webpackJsonpemployees-list"]||[]).push([[0],{15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(9),i=c.n(s),r=(c(15),c(16),c(4)),l=c(2),o=c(8),u=c(0),j="activeIds",d=function(e,t){var c=Object(o.a)(t,2),n=c[0],a=c[1];switch(n){case"setEmployees":return Object(l.a)(Object(l.a)({},e),{},{employees:a});case"setActiveIds":return Object(l.a)(Object(l.a)({},e),{},{activeIds:a});case"addActiveId":return Object(l.a)(Object(l.a)({},e),{},{activeIds:[].concat(Object(r.a)(e.activeIds),[a])});case"removeActiveId":return Object(l.a)(Object(l.a)({},e),{},{activeIds:e.activeIds.filter((function(e){return e!==a}))});default:return e}},m={employees:[],activeIds:[]},b=a.a.createContext((function(){})),h=a.a.createContext(null),O=function(e){var t=e.children,c=Object(n.useReducer)(d,m,(function(){try{return Object(l.a)(Object(l.a)({},m),{},{activeIds:JSON.parse(localStorage.getItem(j))||[]})}catch(e){return m}})),a=Object(o.a)(c,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){localStorage.setItem(j,JSON.stringify(s.activeIds))}),[s.activeIds]),Object(u.jsx)(b.Provider,{value:i,children:Object(u.jsx)(h.Provider,{value:s,children:t})})},v=c(10),p=c(6),f=c.n(p),y="ABCDEFGHIJKLMNOPQRSTUVWXYZ",x=["January","February","March","April","May","June","July","August","September","October","November","December"],N=x.indexOf("May"),g=x.slice(N).concat(x.slice(0,N)),I=function(e){var t=e.firstName,c=e.lastName,a=e.dob,s=e.withDob,i=e.isActive,r=e.children,l=Object(n.useCallback)((function(){var e=new Date(a),t=e.getDate(),c=e.getMonth(),n=e.getFullYear();return"".concat(t," ").concat(x[c],", ").concat(n," year")}),[a]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{className:f()("Employee",{"Employee--active":i}),children:["".concat(c," ").concat(t),s&&" - ".concat(l())]}),r]})};I.defaultProps={firstName:"",lastName:"",dob:"",withDob:!1,isActive:!1,children:null};var E=function(e){var t=e.listName,c=e.employees,a=e.groupedBy,s=Object(n.useContext)(h).activeIds,i=Object(n.useContext)(b);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{children:t}),Object(u.jsx)("ul",{className:f()("EmployeesList",{"EmployeesList--by-lastname":"lastName"===a,"EmployeesList--by-month":"month"===a}),children:c.length?c.map((function(e){var t=e.id,c=Object(v.a)(e,["id"]);return Object(u.jsx)("li",{children:Object(u.jsx)(I,Object(l.a)(Object(l.a)({withDob:"month"===a,isActive:s.includes(t)},c),{},{children:"lastName"===a&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",id:"".concat(t,"-inactive"),value:"false",name:"employee-".concat(t,"-activity"),checked:!s.includes(t),onChange:function(){return i(["removeActiveId",t])}}),Object(u.jsx)("label",{htmlFor:"".concat(t,"-inactive"),children:"inactive"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",id:"".concat(t,"-active"),value:"true",name:"employee-".concat(t,"-activity"),checked:s.includes(t),onChange:function(){return i(["addActiveId",t])}}),Object(u.jsx)("label",{htmlFor:"".concat(t,"-active"),children:"active"})]})]})}))},t)})):Object(u.jsx)("li",{children:Object(u.jsx)("p",{children:"-----"})})})]})};E.defaultProps={listName:"",employees:[],groupedBy:""};var C=function(e,t,c){switch(t){case"lastName":return e.filter((function(e){return e.lastName[0].toUpperCase()===c}));case"month":return e.filter((function(e){var t=e.dob;return new Date(t).getMonth()===c}));case"active":return e.filter((function(e){var t=e.id;return c.includes(t)}));default:return Object(r.a)(e)}};var A=function(){var e=Object(n.useContext)(b),t=Object(n.useContext)(h),c=t.employees,a=t.activeIds;Object(n.useEffect)((function(){fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})).then((function(t){return e(["setEmployees",t])})).catch((function(e){return console.warn("Failed to load employees; Reason = ".concat(e))}))}),[]);var s=Object(n.useMemo)((function(){return function(e,t){var c=Object(r.a)(e);switch(t){case"lastName":return c.sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));default:return c}}(c,"lastName")}),[c]),i=Object(n.useMemo)((function(){return y.split("").map((function(e){return C(s,"lastName",e)}))}),[s]),l=Object(n.useMemo)((function(){return C(s,"active",a)}),[s,a]),o=Object(n.useMemo)((function(){var e=x.map((function(e,t){return C(l,"month",t)}));return e.slice(N).concat(e.slice(0,N))}),[l]);return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"Employees",children:[Object(u.jsx)("h2",{className:"Title",children:"Employees"}),Object(u.jsx)("ul",{className:"Alphabet",children:y.split("").map((function(e,t){return Object(u.jsx)("li",{className:"Alphabet__item",children:Object(u.jsx)(E,{groupedBy:"lastName",listName:e,employees:i[t]})},e)}))})]}),Object(u.jsxs)("div",{className:"EmployeesBDays",children:[Object(u.jsx)("h2",{className:"Title EmployeesBDays__title",children:"Employees Birthday"}),o.some((function(e){return e.length>0}))?Object(u.jsx)("ul",{className:"MonthsList",children:g.map((function(e,t){var c;return(null===(c=o[t])||void 0===c?void 0:c.length)>0&&Object(u.jsx)("li",{children:Object(u.jsx)(E,{groupedBy:"month",listName:e,employees:o[t]})},e)}))}):Object(u.jsx)("p",{className:"MonthsList",children:"Employees List is empty"})]})]})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,19)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(O,{children:Object(u.jsx)(A,{})})}),document.getElementById("root")),F()}},[[18,1,2]]]);
//# sourceMappingURL=main.f871d67c.chunk.js.map